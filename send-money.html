<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alke Wallet - Transferir</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/dashboard.css" rel="stylesheet">
  </head>
  <body>
    <div class="phone-frame">
      <!-- Header con saldo -->
      <header class="header-balance">
        <div class="header-top d-flex justify-content-between align-items-center">
          <a href="dashboard.html" class="text-white">
            <i class="fas fa-arrow-left"></i>
          </a>
          <h1 class="mb-0">Transferir</h1>
          <div style="width: 30px;"></div>
        </div>
        <div class="balance-section text-center mt-3">
          <p class="balance-label">Saldo disponible</p>
          <h2 id="saldoDisponible" class="balance-amount">$11,547</h2>
        </div>
      </header>

      <!-- Contenido principal -->
      <main class="main-content p-4">
        <!-- Campo Contacto -->
        <div class="mb-3">
          <label for="tipoCuenta" class="form-label">
            <i class="fas fa-user"></i> Seleccionar Contacto
          </label>
          <div class="row">
            <div class="col-sm-10"><select class="form-control" id="selectContacto" required>
            <option value="">Selecciona un Contacto</option>
          </select></div>
            <div class="col-sm-2"><button type="button" class="btn btn-outline-primary w-100" id="btnAgregarContacto" style="border-color: #7b2ff7; color: #7b2ff7;">
            <i class="fas fa-user-plus"></i>
          </button></div>
         </div>        
        </div>

        <!-- Formulario de transferencia -->
        <div class="transfer-form">
          <form id="idFormTransfer">
            <!-- Campo de monto -->
            <div class="mb-3">
              <label for="montoTransferencia" class="form-label">
                <i class="fas fa-dollar-sign"></i> Monto a transferir
              </label>
              <input 
                type="number" 
                class="form-control" 
                id="montoTransferencia" 
                placeholder="Ingresa el monto"
                min="0.01"
                step="0.01"
                required
              >
              <small id="maxMonto" class="text-muted">Monto máximo: $11,547</small>
            </div>

            <!-- Seleccionar banco -->
            <div class="mb-3">
              <label for="banco" class="form-label">
                <i class="fas fa-bank"></i> Banco
              </label>
              <select class="form-control" id="banco" required>
                <option value="">Selecciona un banco</option>
                <option value="bbva">BBVA</option>
                <option value="santander">Santander</option>
                <option value="bci">BCI</option>
                <option value="itau">Itaú</option>
                <option value="falabella">Falabella</option>
                <option value="estado">Banco del Estado</option>
                <option value="scotiabank">Scotiabank</option>
              </select>
            </div>

            <!-- Campo de tipo de cuenta -->
            <div class="mb-3">
              <label for="tipoCuenta" class="form-label">
                <i class="fas fa-credit-card"></i> Tipo de cuenta
              </label>
              <select class="form-control" id="tipoCuenta" required>
                <option value="">Selecciona tipo de cuenta</option>
                <option value="corriente">Cuenta Corriente</option>
                <option value="ahorro">Cuenta de Ahorro</option>
                <option value="vista">Cuenta Vista</option>
              </select>
            </div>

            <!-- Campo de número de cuenta -->
            <div class="mb-3">
              <label for="numeroCuenta" class="form-label">
                <i class="fas fa-hashtag"></i> Número de cuenta
              </label>
              <input 
                type="text" 
                class="form-control" 
                id="numeroCuenta" 
                placeholder="Ej: 12345678901234"
                required
              >
            </div>

            <!-- Campo de nombre del titular -->
            <div class="mb-3">
              <label for="nombreTitular" class="form-label">
                <i class="fas fa-user"></i> Nombre del titular
              </label>
              <input 
                type="text" 
                class="form-control" 
                id="nombreTitular" 
                placeholder="Nombre completo del titular de la cuenta"
                required
              >
            </div>

            <!-- Campo de RUT -->
            <div class="mb-3">
              <label for="rutTitular" class="form-label">
                <i class="fas fa-id-card"></i> RUT del titular
              </label>
              <input 
                type="text" 
                class="form-control" 
                id="rutTitular" 
                placeholder="Ej: 12345678-9"
                required
              >
            </div>

            <!-- Resumen -->
            <div class="card mb-4" style="border: 1px solid #e0e0e0; border-radius: 10px;">
              <div class="card-body">
                <h6 class="card-title">Resumen de la transferencia</h6>
                <div class="d-flex justify-content-between mb-2">
                  <span>Monto a transferir:</span>
                  <span id="montoResumen">$0.00</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                  <span>Comisión:</span>
                  <span id="comisionResumen">$0.00</span>
                </div>
                <hr>
                <div class="d-flex justify-content-between fw-bold">
                  <span>Total a descontar:</span>
                  <span id="totalResumen" style="color: #7b2ff7;">$0.00</span>
                </div>
              </div>
            </div>

            <!-- Botones de acción -->
            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-primary" style="background-color: #7b2ff7; border: none; padding: 12px;">
                <i class="fas fa-check-circle"></i> Confirmar transferencia
              </button>
              <a href="dashboard.html" class="btn btn-secondary" style="padding: 12px;">
                <i class="fas fa-times"></i> Cancelar
              </a>
            </div>
          </form>
        </div>

        <!-- Modal para agregar nuevo contacto -->
        <div class="modal fade" id="modalNuevoContacto" tabindex="-1" aria-labelledby="modalContactoLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header" style="background-color: #7b2ff7; color: white;">
                <h5 class="modal-title" id="modalContactoLabel">Agregar Nuevo Contacto</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="idFormNuevoContacto">
                  <div class="mb-3">
                    <label for="contactoNombre" class="form-label"><i class="fas fa-user"></i> Nombre</label>
                    <input type="text" class="form-control" id="contactoNombre" placeholder="Nombre del contacto" required>
                  </div>
                  <!-- Campo de RUT -->
                  <div class="mb-3">
                    <label for="rutTitular" class="form-label">
                      <i class="fas fa-id-card"></i> RUT del titular
                    </label>
                    <input 
                      type="text" 
                      class="form-control" 
                      id="contactoRutTitular" 
                      placeholder="Ej: 12345678-9"
                      required
                    >
                  </div>
                  <div class="mb-3">
                    <label for="contactoEmail" class="form-label">
                      <i class="fas fa-envelope"></i> Correo electrónico</label>
                    <input type="email" class="form-control" id="contactoEmail" placeholder="correo@ejemplo.com" required>
                  </div>
                  <div class="mb-3">
                    <label for="contactoBanco" class="form-label"><i class="fas fa-bank"></i> Banco</label>
                    <select class="form-control" id="contactoBanco" required>
                      <option value="">Selecciona un banco</option>
                      <option value="bbva">BBVA</option>
                      <option value="santander">Santander</option>
                      <option value="bci">BCI</option>
                      <option value="itau">Itaú</option>
                      <option value="falabella">Falabella</option>
                      <option value="estado">Banco del Estado</option>
                      <option value="scotiabank">Scotiabank</option>
                    </select>
                  </div>
                  <!-- Campo de tipo de cuenta -->
                  <div class="mb-3">
                    <label for="tipoCuenta" class="form-label">
                      <i class="fas fa-credit-card"></i> Tipo de cuenta
                    </label>
                    <select class="form-control" id="contactoTipoCuenta" required>
                      <option value="">Selecciona tipo de cuenta</option>
                      <option value="corriente">Cuenta Corriente</option>
                      <option value="ahorro">Cuenta de Ahorro</option>
                      <option value="vista">Cuenta Vista</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="contactoCuenta" class="form-label"><i class="fas fa-hashtag"></i> Número de cuenta</label>
                    <input type="text" class="form-control" id="contactoCuenta" placeholder="Ej: 12345678901234" required>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnGuardarContacto" style="background-color: #7b2ff7; border: none;">
                  Guardar contacto
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de confirmación -->
        <div class="modal fade" id="modalConfirmacion" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header" style="background-color: #7b2ff7; color: white;">
                <h5 class="modal-title" id="modalLabel">Confirmar Transferencia</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p><strong>Banco:</strong> <span id="modalBanco"></span></p>
                <p><strong>Cuenta:</strong> <span id="modalCuenta"></span></p>
                <p><strong>Titular:</strong> <span id="modalTitular"></span></p>
                <p><strong>Monto:</strong> <span id="modalMonto" style="color: #7b2ff7; font-weight: bold;"></span></p>
                <p><strong>Comisión:</strong> <span id="modalComision"></span></p>
                <p><strong>Total a descontar:</strong> <span id="modalTotal" style="color: #7b2ff7; font-weight: bold;"></span></p>
                <hr>
                <p class="text-muted">¿Estás seguro de que deseas realizar esta transferencia?</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnConfirmarTransfer" style="background-color: #7b2ff7; border: none;">
                  Confirmar
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Bottom Navigation -->
      <nav class="bottom-nav">
        <a href="dashboard.html" class="nav-item">
          <i class="fas fa-home"></i>
          <span>Home</span>
        </a>
        <a href="send-money.html" class="nav-item">
          <i class="fas fa-exchange-alt"></i>
          <span>Enviar</span>
        </a>
        <a href="history.html" class="nav-item">
          <i class="fas fa-clock"></i>
          <span>Historial</span>
        </a>
        <a href="#" class="nav-item">
          <i class="fas fa-cog"></i>
          <span>Config</span>
        </a>
        <a href="#" class="nav-item">
          <i class="fas fa-comment-dots"></i>
          <span>Soporte</span>
        </a>
      </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/javascript/jquery-3.7.1.min.js"></script>
    <script src="assets/javascript/send-money.js"></script>
  </body>
</html>